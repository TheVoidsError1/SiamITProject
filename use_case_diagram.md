# Use Case Diagram: ระบบจัดการการลางานอัจฉริยะ SiamIT

## ผู้ใช้งานหลัก (Primary Actors)

### 1. พนักงาน (Employee/User)
- **คำอธิบาย:** ผู้ใช้งานทั่วไปที่เป็นพนักงานในองค์กร
- **สิทธิ์:** สามารถยื่นคำขอการลางาน ดูประวัติ และจัดการข้อมูลส่วนตัว

### 2. ผู้ดูแลระบบ (Admin)
- **คำอธิบาย:** ผู้จัดการหรือหัวหน้างานที่มีสิทธิ์อนุมัติการลางาน
- **สิทธิ์:** สามารถอนุมัติ/ปฏิเสธคำขอ จัดการพนักงาน และดูรายงาน

### 3. ผู้ดูแลระบบสูงสุด (Super Admin)
- **คำอธิบาย:** ผู้ดูแลระบบทั้งหมดที่มีสิทธิ์สูงสุด
- **สิทธิ์:** สามารถจัดการผู้ดูแลระบบ จัดการระบบ และกำหนดนโยบาย

## Use Cases และความสัมพันธ์

### สำหรับพนักงาน (Employee/User)

#### การยืนยันตัวตน (Authentication)
- **เข้าสู่ระบบ (Login)**
  - **คำอธิบาย:** พนักงานเข้าสู่ระบบด้วย email และ password
  - **Precondition:** มีบัญชีผู้ใช้งานในระบบ
  - **Postcondition:** เข้าสู่ระบบสำเร็จและเข้าถึงฟีเจอร์ต่างๆ ได้

- **ลงทะเบียน (Register)**
  - **คำอธิบาย:** พนักงานใหม่สร้างบัญชีผู้ใช้งาน
  - **Precondition:** ไม่มีบัญชีผู้ใช้งานในระบบ
  - **Postcondition:** สร้างบัญชีสำเร็จและสามารถเข้าสู่ระบบได้

- **เข้าสู่ระบบผ่าน LINE (LINE Login)**
  - **คำอธิบาย:** พนักงานเข้าสู่ระบบผ่าน LINE account
  - **Precondition:** มี LINE account และเชื่อมต่อกับระบบ
  - **Postcondition:** เข้าสู่ระบบสำเร็จโดยไม่ต้องกรอก password

#### การจัดการการลางาน (Leave Management)
- **ยื่นคำขอการลางาน (Submit Leave Request)**
  - **คำอธิบาย:** พนักงานยื่นคำขอการลางานพร้อมข้อมูลและเอกสารแนบ
  - **Precondition:** เข้าสู่ระบบแล้วและมีโควต้าการลางานเหลือ
  - **Postcondition:** คำขอถูกส่งไปยังผู้ดูแลระบบเพื่ออนุมัติ

- **ดูประวัติการลางาน (View Leave History)**
  - **คำอธิบาย:** พนักงานดูประวัติการลางานทั้งหมดของตนเอง
  - **Precondition:** เข้าสู่ระบบแล้ว
  - **Postcondition:** แสดงรายการคำขอการลางานทั้งหมด

- **แก้ไขคำขอการลางาน (Edit Leave Request)**
  - **คำอธิบาย:** พนักงานแก้ไขคำขอการลางานที่ยังไม่ได้รับการอนุมัติ
  - **Precondition:** มีคำขอการลางานที่สถานะเป็น pending
  - **Postcondition:** คำขอถูกอัปเดตและส่งไปยังผู้ดูแลระบบ

- **ยกเลิกคำขอการลางาน (Cancel Leave Request)**
  - **คำอธิบาย:** พนักงานยกเลิกคำขอการลางานที่ยังไม่ได้รับการอนุมัติ
  - **Precondition:** มีคำขอการลางานที่สถานะเป็น pending
  - **Postcondition:** คำขอถูกยกเลิกและโควต้าถูกคืน

#### การจัดการข้อมูลส่วนตัว (Profile Management)
- **ดูโปรไฟล์ (View Profile)**
  - **คำอธิบาย:** พนักงานดูข้อมูลส่วนตัวและข้อมูลการทำงาน
  - **Precondition:** เข้าสู่ระบบแล้ว
  - **Postcondition:** แสดงข้อมูลโปรไฟล์

- **แก้ไขข้อมูลส่วนตัว (Edit Profile)**
  - **คำอธิบาย:** พนักงานแก้ไขข้อมูลส่วนตัว เช่น เบอร์โทร อีเมล
  - **Precondition:** เข้าสู่ระบบแล้ว
  - **Postcondition:** ข้อมูลถูกอัปเดตในระบบ

- **เปลี่ยนรหัสผ่าน (Change Password)**
  - **คำอธิบาย:** พนักงานเปลี่ยนรหัสผ่านของตนเอง
  - **Precondition:** เข้าสู่ระบบแล้ว
  - **Postcondition:** รหัสผ่านถูกเปลี่ยนและต้องใช้รหัสผ่านใหม่ในการเข้าสู่ระบบครั้งต่อไป

#### การดูข้อมูลและรายงาน (Information and Reports)
- **ดูปฏิทินการลางาน (View Calendar)**
  - **คำอธิบาย:** พนักงานดูปฏิทินแสดงการลางานของตนเองและเพื่อนร่วมงาน
  - **Precondition:** เข้าสู่ระบบแล้ว
  - **Postcondition:** แสดงปฏิทินการลางาน

- **ดูประกาศ (View Announcements)**
  - **คำอธิบาย:** พนักงานดูประกาศและข่าวสารจากบริษัท
  - **Precondition:** เข้าสู่ระบบแล้ว
  - **Postcondition:** แสดงรายการประกาศ

- **ดูสถิติการลางาน (View Leave Statistics)**
  - **คำอธิบาย:** พนักงานดูสถิติการลางานของตนเอง
  - **Precondition:** เข้าสู่ระบบแล้ว
  - **Postcondition:** แสดงสถิติการลางาน

### สำหรับผู้ดูแลระบบ (Admin)

#### การจัดการการอนุมัติ (Approval Management)
- **อนุมัติคำขอการลางาน (Approve Leave Request)**
  - **คำอธิบาย:** ผู้ดูแลระบบอนุมัติคำขอการลางานของพนักงาน
  - **Precondition:** มีคำขอการลางานที่รอการอนุมัติ
  - **Postcondition:** คำขอได้รับการอนุมัติและโควต้าถูกหัก

- **ปฏิเสธคำขอการลางาน (Reject Leave Request)**
  - **คำอธิบาย:** ผู้ดูแลระบบปฏิเสธคำขอการลางานพร้อมเหตุผล
  - **Precondition:** มีคำขอการลางานที่รอการอนุมัติ
  - **Postcondition:** คำขอถูกปฏิเสธและโควต้าไม่ถูกหัก

- **ดูรายการคำขอที่รอการอนุมัติ (View Pending Requests)**
  - **คำอธิบาย:** ผู้ดูแลระบบดูรายการคำขอการลางานที่รอการอนุมัติ
  - **Precondition:** เข้าสู่ระบบแล้ว
  - **Postcondition:** แสดงรายการคำขอที่รอการอนุมัติ

#### การจัดการพนักงาน (Employee Management)
- **ดูรายการพนักงาน (View Employee List)**
  - **คำอธิบาย:** ผู้ดูแลระบบดูรายการพนักงานทั้งหมดในแผนก
  - **Precondition:** เข้าสู่ระบบแล้ว
  - **Postcondition:** แสดงรายการพนักงาน

- **ดูรายละเอียดพนักงาน (View Employee Detail)**
  - **คำอธิบาย:** ผู้ดูแลระบบดูรายละเอียดและประวัติการลางานของพนักงาน
  - **Precondition:** มีพนักงานในระบบ
  - **Postcondition:** แสดงรายละเอียดพนักงาน

#### การจัดการประกาศ (Announcement Management)
- **สร้างประกาศ (Create Announcement)**
  - **คำอธิบาย:** ผู้ดูแลระบบสร้างประกาศหรือข่าวสารใหม่
  - **Precondition:** เข้าสู่ระบบแล้ว
  - **Postcondition:** ประกาศถูกสร้างและแสดงให้พนักงานเห็น

- **แก้ไขประกาศ (Edit Announcement)**
  - **คำอธิบาย:** ผู้ดูแลระบบแก้ไขประกาศที่มีอยู่
  - **Precondition:** มีประกาศในระบบ
  - **Postcondition:** ประกาศถูกอัปเดต

- **ลบประกาศ (Delete Announcement)**
  - **คำอธิบาย:** ผู้ดูแลระบบลบประกาศที่ไม่ต้องการ
  - **Precondition:** มีประกาศในระบบ
  - **Postcondition:** ประกาศถูกลบออกจากระบบ

#### การจัดการวันหยุด (Holiday Management)
- **สร้างวันหยุดพิเศษ (Create Custom Holiday)**
  - **คำอธิบาย:** ผู้ดูแลระบบสร้างวันหยุดพิเศษของบริษัท
  - **Precondition:** เข้าสู่ระบบแล้ว
  - **Postcondition:** วันหยุดพิเศษถูกสร้างและแสดงในปฏิทิน

- **แก้ไขวันหยุดพิเศษ (Edit Custom Holiday)**
  - **คำอธิบาย:** ผู้ดูแลระบบแก้ไขวันหยุดพิเศษที่มีอยู่
  - **Precondition:** มีวันหยุดพิเศษในระบบ
  - **Postcondition:** วันหยุดพิเศษถูกอัปเดต

#### การดูรายงาน (Reporting)
- **ดูแดชบอร์ด (View Dashboard)**
  - **คำอธิบาย:** ผู้ดูแลระบบดูแดชบอร์ดแสดงสถิติและข้อมูลสำคัญ
  - **Precondition:** เข้าสู่ระบบแล้ว
  - **Postcondition:** แสดงแดชบอร์ดพร้อมข้อมูลสถิติ

- **ดูรายงานการลางาน (View Leave Reports)**
  - **คำอธิบาย:** ผู้ดูแลระบบดูรายงานการลางานรายเดือนหรือรายปี
  - **Precondition:** เข้าสู่ระบบแล้ว
  - **Postcondition:** แสดงรายงานการลางาน

### สำหรับผู้ดูแลระบบสูงสุด (Super Admin)

#### การจัดการผู้ดูแลระบบ (Admin Management)
- **สร้างผู้ดูแลระบบ (Create Admin)**
  - **คำอธิบาย:** ผู้ดูแลระบบสูงสุดสร้างบัญชีผู้ดูแลระบบใหม่
  - **Precondition:** เข้าสู่ระบบแล้ว
  - **Postcondition:** บัญชีผู้ดูแลระบบถูกสร้างและสามารถใช้งานได้

- **แก้ไขข้อมูลผู้ดูแลระบบ (Edit Admin)**
  - **คำอธิบาย:** ผู้ดูแลระบบสูงสุดแก้ไขข้อมูลผู้ดูแลระบบ
  - **Precondition:** มีผู้ดูแลระบบในระบบ
  - **Postcondition:** ข้อมูลผู้ดูแลระบบถูกอัปเดต

- **ลบผู้ดูแลระบบ (Delete Admin)**
  - **คำอธิบาย:** ผู้ดูแลระบบสูงสุดลบบัญชีผู้ดูแลระบบ
  - **Precondition:** มีผู้ดูแลระบบในระบบ
  - **Postcondition:** บัญชีผู้ดูแลระบบถูกลบ

#### การจัดการระบบ (System Management)
- **จัดการประเภทการลางาน (Manage Leave Types)**
  - **คำอธิบาย:** ผู้ดูแลระบบสูงสุดสร้าง แก้ไข หรือลบประเภทการลางาน
  - **Precondition:** เข้าสู่ระบบแล้ว
  - **Postcondition:** ประเภทการลางานถูกจัดการตามที่กำหนด

- **จัดการตำแหน่งงาน (Manage Positions)**
  - **คำอธิบาย:** ผู้ดูแลระบบสูงสุดสร้าง แก้ไข หรือลบตำแหน่งงาน
  - **Precondition:** เข้าสู่ระบบแล้ว
  - **Postcondition:** ตำแหน่งงานถูกจัดการตามที่กำหนด

- **จัดการแผนก (Manage Departments)**
  - **คำอธิบาย:** ผู้ดูแลระบบสูงสุดสร้าง แก้ไข หรือลบแผนก
  - **Precondition:** เข้าสู่ระบบแล้ว
  - **Postcondition:** แผนกถูกจัดการตามที่กำหนด

- **จัดการโควต้าการลางาน (Manage Leave Quotas)**
  - **คำอธิบาย:** ผู้ดูแลระบบสูงสุดกำหนดโควต้าการลางานตามตำแหน่งและประเภท
  - **Precondition:** มีตำแหน่งงานและประเภทการลางานในระบบ
  - **Postcondition:** โควต้าการลางานถูกกำหนดตามที่ต้องการ

#### การดูรายงานระดับองค์กร (Organization Reports)
- **ดูรายงานสถิติทั้งหมด (View All Statistics)**
  - **คำอธิบาย:** ผู้ดูแลระบบสูงสุดดูสถิติการลางานของทั้งองค์กร
  - **Precondition:** เข้าสู่ระบบแล้ว
  - **Postcondition:** แสดงสถิติการลางานของทั้งองค์กร

- **ดูรายงานการใช้งานระบบ (View System Usage Reports)**
  - **คำอธิบาย:** ผู้ดูแลระบบสูงสุดดูรายงานการใช้งานระบบ
  - **Precondition:** เข้าสู่ระบบแล้ว
  - **Postcondition:** แสดงรายงานการใช้งานระบบ

### Use Cases ร่วม (Shared Use Cases)

#### การจัดการการแจ้งเตือน (Notification Management)
- **รับการแจ้งเตือน (Receive Notifications)**
  - **คำอธิบาย:** ผู้ใช้งานทุกคนรับการแจ้งเตือนแบบ Real-time
  - **Precondition:** เข้าสู่ระบบแล้วและเชื่อมต่อ Socket.io
  - **Postcondition:** ได้รับการแจ้งเตือนเมื่อมีการเปลี่ยนแปลง

- **จัดการการแจ้งเตือน (Manage Notifications)**
  - **คำอธิบาย:** ผู้ใช้งานจัดการการแจ้งเตือน เช่น อ่านหรือลบ
  - **Precondition:** มีการแจ้งเตือนในระบบ
  - **Postcondition:** การแจ้งเตือนถูกจัดการตามที่ต้องการ

#### การจัดการภาษา (Language Management)
- **เปลี่ยนภาษา (Change Language)**
  - **คำอธิบาย:** ผู้ใช้งานเปลี่ยนภาษาของระบบระหว่างไทยและอังกฤษ
  - **Precondition:** เข้าสู่ระบบแล้ว
  - **Postcondition:** ระบบแสดงผลในภาษาที่เลือก

## ความสัมพันธ์ระหว่าง Use Cases

### Include Relationships
- **ยื่นคำขอการลางาน** includes **ตรวจสอบโควต้า**
- **อนุมัติคำขอการลางาน** includes **อัปเดตสถิติ**
- **สร้างประกาศ** includes **ส่งการแจ้งเตือน**

### Extend Relationships
- **เข้าสู่ระบบ** extends **ตรวจสอบสิทธิ์**
- **ดูรายงาน** extends **กรองข้อมูล**

### Generalization Relationships
- **พนักงาน** generalizes **Intern** และ **Employee**
- **ผู้ดูแลระบบ** generalizes **Admin** และ **Super Admin**

## ข้อกำหนดพิเศษ (Special Requirements)

### ข้อกำหนดด้านความปลอดภัย
- การเข้าสู่ระบบต้องใช้ JWT Token
- การเข้าถึงข้อมูลต้องตรวจสอบสิทธิ์ตาม Role
- การเข้ารหัสพาสเวิร์ดด้วย bcrypt

### ข้อกำหนดด้านประสิทธิภาพ
- การตอบสนองของระบบต้องไม่เกิน 3 วินาที
- การแจ้งเตือนแบบ Real-time ผ่าน Socket.io
- การ Cache ข้อมูลด้วย React Query

### ข้อกำหนดด้านการใช้งาน
- รองรับการใช้งานบนอุปกรณ์ทุกขนาด (Responsive)
- รองรับการใช้งานแบบ Offline สำหรับข้อมูลพื้นฐาน
- การแสดงผลในภาษาไทยและอังกฤษ
